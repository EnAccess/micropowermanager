FROM node:18.20.4

WORKDIR /app


# install JavaScript dependencies
COPY src/frontend/package*.json ./
RUN npm install

# get MicroPowerManager source code and configuration
COPY src/frontend .


COPY docker/entrypoint-ui-prod.sh /usr/local/bin/
RUN chmod +x /usr/local/bin/entrypoint-ui-prod.sh
ENTRYPOINT ["/usr/local/bin/entrypoint-ui-prod.sh"]


# serve the application
RUN npm install -g http-server

EXPOSE 8081
