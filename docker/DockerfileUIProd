FROM node:18.20.4

WORKDIR /app

# install JavaScript dependencies
COPY src/frontend/package*.json ./
RUN npm install

# get MicroPowerManager source code and configuration
COPY src/frontend .

# build app for production with minification
RUN npm run build

# serve the application
RUN npm install -g http-server
CMD [ "http-server", "dist", "-p", "8081" ]

EXPOSE 8081
